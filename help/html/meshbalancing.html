<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<!-- saved from url=(0029)http://www.helpandmanual.com/ -->
<head><script type="text/javascript" src="helpman_topicinit.js"></script>
<!-- Redirect browser to frame page if page is not in the content frame. -->
<script type="text/javascript">
<!--
if (top.location.search.lastIndexOf("toc=0")<=0) {
  if (top.frames.length==0) { top.location.href="index.html?meshbalancing.html"; }
  else { parent.lazysync('meshbalancing.html'); }
}
//-->
</script>
<script type="text/javascript" src="highlight.js"></script>
   <title>Mesh Balancing</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="Moving Meshes,Moving Meshes Balancing,VELOCITY,VELOCITY Boundary Condition">
   <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <link type="text/css" href="styles.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style TYPE="text/css" media="screen"> 
   <!-- 
   body {    
      margin:0; 
      padding:0; 
      overflow: auto; 
      background: #FFFFFF; 
   } 
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 
    #idheaderbg  {
    background: #6F6F6F; 
}
   -->
   </style>
   
<style TYPE="text/css" MEDIA="print">
<!--
/* Hide navigation links and add space between header
     and text in the printed version. Not valid for eBooks. */
#idnav { display:none;	 }
.topichead { padding: 5px 5px 20px 5px; }
-->
</style>   
</head>
<body onload="highlight();">
<div id="hmpopupDiv" style="visibility:hidden; position:absolute; z-index:1000; filter:progid:DXImageTransform.Microsoft.DropShadow(color='b0b0b0', Direction=135, OffX='3', OffY='3') progid:DXImageTransform.Microsoft.Fade(Overlap=1.00);"></div>
<!--ZOOMSTOP-->

<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; color: #6F6F6F; background: url(header_bg.jpg);">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="user_guide.html">User Guide</a> &gt; <a href="movingmeshesoverview.html">Moving Meshes</a>&nbsp;&gt;</p>
   <p class="p_Heading1"><span class="f_Heading1">Mesh Balancing</span></p>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    <a href="javascript: print();"
    		onmouseover="document.images.prntr.src='print1.gif'" 
        onmouseout="document.images.prntr.src='print2.gif'"
        ><img name="prntr" border="0" alt="Print this Topic" title="Print this Topic" src="print2.gif"
        ></a>
     <a href="movingmeshesoverview.html"
        onmouseover="document.images.prev.src='btn_prev_h.gif'" 
        onmouseout="document.images.prev.src='btn_prev_n.gif'"
        ><img name=prev src="btn_prev_n.gif" border=0 alt="Previous page"
        ></a><a href="movingmeshesoverview.html"
        onmouseover="document.images.main.src='btn_home_h.gif'" 
        onmouseout="document.images.main.src='btn_home_n.gif'"><img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview"
        ></a><a href="thepulsatingblob.html"
        onmouseover="document.images.next.src='btn_next_h.gif'" 
        onmouseout="document.images.next.src='btn_next_n.gif'"><img name=next src="btn_next_n.gif" border=0 alt="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  



<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p>A convenient method for distributing the computation mesh smoothly within a moving domain boundary is simply to diffuse the coordinates or the mesh velocities.</p>
<p>For example, suppose we change our basic example problem to model a sphere of oscillating size <span class="f_T_Code">Rm=0.5 + 0.25*cos(t)</span>.</p>
<p><span style="font-weight: bold; text-decoration: underline;">Diffusing Mesh Coordinates</span></p>
<p>We define surrogate coordinates for X and Y:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VARIABLES</span><span class="f_T_Code"> </span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Phi</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Xm = </span><span class="f_T_Code_reserved">MOVE</span><span class="f_T_Code">(x)</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Ym = </span><span class="f_T_Code_reserved">MOVE</span><span class="f_T_Code">(y)</span><br>
&nbsp;</p>
<p>For the <span class="f_T_Code">EQUATIONS</span> of the mesh coordinates, we will use simple diffusion equations to distribute the positions smoothly in the interior, expecting the actual motions to be driven by boundary conditions:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">Div(Grad(Xm)) = 0</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">Div(Grad(Ym)) = 0</span><br>
<span class="f_T_Code">&nbsp;</span></p>
<p>We can apply the boundary velocities directly to the mesh coordinates on the blob surface using the time derivative of R and geometric rules:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VELOCITY</span><span class="f_T_Code">(Xm) = -0.25*sin(t)*x/r</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VELOCITY</span><span class="f_T_Code">(Ym) = -0.25*sin(t)*y/r</span></p>
<p>&nbsp;</p>
<p><span style="font-weight: bold; text-decoration: underline;">Diffusing Mesh Velocities</span></p>
<p>Alternatively, we can define mesh velocity variables as well as the surrogate coordinates for X and Y:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VARIABLES</span><span class="f_T_Code"> </span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Phi</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Xm = </span><span class="f_T_Code_reserved">MOVE</span><span class="f_T_Code">(x)</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Ym = </span><span class="f_T_Code_reserved">MOVE</span><span class="f_T_Code">(y)</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Um </span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 48px;"><span class="f_T_Code">Vm</span></p>
<p>&nbsp;</p>
<p>The <span class="f_T_Code">EQUATIONS</span> for the mesh coordinates are simply the velocity relations:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">dt(Xm) = Um</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">dt(Ym) = Vm</span></p>
<p style="margin: 0px 0px 0px 33px;">&nbsp;</p>
<p>For the mesh velocities we will use a diffusion equation to distribute the velocities smoothly in the interior:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">div(grad(Um)) = 0</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code">div(grad(Vm)) = 0</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_CodeExample">&nbsp;</span></p>
<p>The boundary conditions for mesh velocity on the blob are as above:</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VALUE</span><span class="f_T_Code">(Um) = -0.25*sin(t)*x/r</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VALUE</span><span class="f_T_Code">(Vm) = -0.25*sin(t)*y/r</span></p>
<p><span class="f_T_Code">&nbsp;</span></p>
<p>Since the finite element equations applied at the boundary nodes are averages over the cells, we must also apply the hard equivalence of velocity to the mesh coordinates on the blob boundary</p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VELOCITY</span><span class="f_T_Code">(Xm) = Um</span></p>
<p class="p_CodeExample" style="margin: 0px 0px 0px 24px;"><span class="f_T_Code_reserved">VELOCITY</span><span class="f_T_Code">(Ym) = Vm</span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>

<!--ZOOMSTOP-->
<p>&nbsp;</p><hr size="1"><p class="fsmall">Page url: 
<a href="index.html?meshbalancing.html" target="_top">index.html?meshbalancing.html</a>
</p>
</div></div>
<script type="text/javascript"> 
<!-- 
var lastSlashPos = document.URL.lastIndexOf("/") >
document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") :
document.URL.lastIndexOf("\\");
if( document.URL.substring( lastSlashPos + 1, lastSlashPos + 4
).toLowerCase() != "~hh" )
{
    nsrInit();
}
--> 
</script> 
</body>
</html>
